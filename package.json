{
  "name": "wiz-vscode",
  "displayName": "Wiz VSCode Explorer",
  "description": "A comprehensive VS Code extension for managing Wiz Framework projects",
  "version": "1.1.0",
  "publisher": "season-framework",
  "repository": {
    "type": "git",
    "url": "https://github.com/season-framework/wiz-vscode"
  },
  "engines": {
    "vscode": "^1.60.0",
    "wiz": ">=2.5.0"
  },
  "categories": [
    "Other"
  ],
  "activationEvents": [
    "onView:wizExplorer",
    "workspaceContains:**/project/*/src",
    "onCommand:wizExplorer.navigatePrevious",
    "onCommand:wizExplorer.navigateNext",
    "onCommand:wizExplorer.openInSplit"
  ],
  "main": "./src/extension.js",
  "contributes": {
    "viewsContainers": {
      "activitybar": [
        {
          "id": "wiz-explorer",
          "title": "WIZ",
          "icon": "resources/icon.svg"
        }
      ]
    },
    "views": {
      "wiz-explorer": [
        {
          "id": "wizExplorer",
          "name": "Files"
        }
      ]
    },
    "commands": [
      {
        "command": "wizExplorer.refresh",
        "title": "Wiz: Refresh Explorer",
        "icon": "$(refresh)"
      },
      {
        "command": "wizExplorer.startMcpServer",
        "title": "Wiz: Start MCP Server"
      },
      {
        "command": "wizExplorer.stopMcpServer",
        "title": "Wiz: Stop MCP Server"
      },
      {
        "command": "wizExplorer.showMcpConfig",
        "title": "Wiz: Show MCP Configuration"
      },
      {
        "command": "wizExplorer.build",
        "title": "Wiz: Build Project",
        "icon": "$(tools)"
      },
      {
        "command": "wizExplorer.normalBuild",
        "title": "Wiz: Normal Build"
      },
      {
        "command": "wizExplorer.cleanBuild",
        "title": "Wiz: Clean Build"
      },
      {
        "command": "wizExplorer.showBuildOutput",
        "title": "Wiz: Show Build Output"
      },
      {
        "command": "wizExplorer.selectBuildPythonInterpreter",
        "title": "Wiz: Select Python Environment for Build"
      },
      {
        "command": "wizExplorer.switchProject",
        "title": "Wiz: Switch Project",
        "icon": "$(list-unordered)"
      },
      {
        "command": "wizExplorer.exportCurrentProject",
        "title": "Wiz: Export Current Project"
      },
      {
        "command": "wizExplorer.importProject",
        "title": "Wiz: Import Project"
      },
      {
        "command": "wizExplorer.newPackage",
        "title": "Wiz: Create New Package",
        "icon": "$(package)"
      },
      {
        "command": "wizExplorer.goToApp",
        "title": "Wiz: Go to App"
      },
      {
        "command": "wizExplorer.showAppMenu",
        "title": "Wiz: Switch App File"
      },
      {
        "command": "wizExplorer.openAppInfo",
        "title": "Wiz: Open App Info"
      },
      {
        "command": "wizExplorer.copyCurrentTemplate",
        "title": "Wiz: Copy Current App Template"
      },
      {
        "command": "wizExplorer.revealInWizExplorer",
        "title": "Wiz: Reveal in Wiz Explorer"
      },
      {
        "command": "wizExplorer.createPage",
        "title": "Wiz: Create New Page"
      },
      {
        "command": "wizExplorer.createComponent",
        "title": "Wiz: Create New Component"
      },

      {
        "command": "wizExplorer.createLayout",
        "title": "Wiz: Create New Layout"
      },
      {
        "command": "wizExplorer.createRoute",
        "title": "Wiz: Create New Route"
      },
      {
        "command": "wizExplorer.openFile",
        "title": "Open File"
      },
      {
        "command": "wizExplorer.revealInExplorer",
        "title": "Reveal in File Explorer"
      },
      {
        "command": "wizExplorer.openFolder",
        "title": "Wiz: Open Workspace Folder",
        "icon": "$(folder-opened)"
      },
      {
        "command": "wizExplorer.newFile",
        "title": "새 파일",
        "icon": "$(new-file)"
      },
      {
        "command": "wizExplorer.newFolder",
        "title": "새 폴더",
        "icon": "$(new-folder)"
      },
      {
        "command": "wizExplorer.copy",
        "title": "복사"
      },
      {
        "command": "wizExplorer.paste",
        "title": "붙여넣기"
      },
      {
        "command": "wizExplorer.delete",
        "title": "삭제"
      },
      {
        "command": "wizExplorer.switch.info",
        "title": "Info"
      },
      {
        "command": "wizExplorer.switch.controller",
        "title": "Controller"
      },
      {
        "command": "wizExplorer.switch.ui",
        "title": "UI"
      },
      {
        "command": "wizExplorer.switch.component",
        "title": "Component"
      },
      {
        "command": "wizExplorer.switch.scss",
        "title": "Style"
      },
      {
        "command": "wizExplorer.switch.api",
        "title": "API"
      },
      {
        "command": "wizExplorer.switch.socket",
        "title": "Socket"
      },
      {
        "command": "wizExplorer.navigatePrevious",
        "title": "Wiz: Navigate Previous File"
      },
      {
        "command": "wizExplorer.navigateNext",
        "title": "Wiz: Navigate Next File"
      },
      {
        "command": "wizExplorer.openInSplit",
        "title": "Wiz: Open Current File in Split"
      },
      {
        "command": "wizExplorer.newApp",
        "title": "New App",
        "icon": "$(plus)"
      },
      {
        "command": "wizExplorer.uploadApp",
        "title": "App 업로드",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "wizExplorer.uploadPackage",
        "title": "Package 업로드",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "wizExplorer.exportPackage",
        "title": "Export Package",
        "icon": "$(export)"
      },
      {
        "command": "wizExplorer.copyTemplate",
        "title": "Template 복사"
      },
      {
        "command": "wizExplorer.downloadFile",
        "title": "다운로드...",
        "icon": "$(cloud-download)"
      },
      {
        "command": "wizExplorer.uploadFile",
        "title": "업로드...",
        "icon": "$(cloud-upload)"
      },
      {
        "command": "wizExplorer.rename",
        "title": "이름 변경",
        "icon": "$(edit)"
      },
      {
        "command": "wizExplorer.switch.info.active",
        "title": "✔ Info"
      },
      {
        "command": "wizExplorer.switch.controller.active",
        "title": "✔ Controller"
      },
      {
        "command": "wizExplorer.switch.ui.active",
        "title": "✔ UI"
      },
      {
        "command": "wizExplorer.switch.component.active",
        "title": "✔ Component"
      },
      {
        "command": "wizExplorer.switch.scss.active",
        "title": "✔ Style"
      },
      {
        "command": "wizExplorer.switch.api.active",
        "title": "✔ API"
      },
      {
        "command": "wizExplorer.switch.socket.active",
        "title": "✔ Socket"
      }
    ],
    "menus": {
      "editor/title": [
        {
          "command": "wizExplorer.switch.info",
          "group": "navigation@1",
          "when": "wizExplorer:isAppFile && wizExplorer:activeFileType != 'info'"
        },
        {
          "command": "wizExplorer.switch.info.active",
          "group": "navigation@1",
          "when": "wizExplorer:isAppFile && wizExplorer:activeFileType == 'info'"
        },
        {
          "command": "wizExplorer.switch.controller",
          "group": "navigation@2",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory == 'route' && wizExplorer:activeFileType != 'controller'"
        },
        {
          "command": "wizExplorer.switch.controller.active",
          "group": "navigation@2",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory == 'route' && wizExplorer:activeFileType == 'controller'"
        },
        {
          "command": "wizExplorer.switch.ui",
          "group": "navigation@2",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType != 'ui'"
        },
        {
          "command": "wizExplorer.switch.ui.active",
          "group": "navigation@2",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType == 'ui'"
        },
        {
          "command": "wizExplorer.switch.component",
          "group": "navigation@3",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType != 'component'"
        },
        {
          "command": "wizExplorer.switch.component.active",
          "group": "navigation@3",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType == 'component'"
        },
        {
          "command": "wizExplorer.switch.scss",
          "group": "navigation@4",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType != 'scss'"
        },
        {
          "command": "wizExplorer.switch.scss.active",
          "group": "navigation@4",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType == 'scss'"
        },
        {
          "command": "wizExplorer.switch.api",
          "group": "navigation@5",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType != 'api'"
        },
        {
          "command": "wizExplorer.switch.api.active",
          "group": "navigation@5",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType == 'api'"
        },
        {
          "command": "wizExplorer.switch.socket",
          "group": "navigation@6",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType != 'socket'"
        },
        {
          "command": "wizExplorer.switch.socket.active",
          "group": "navigation@6",
          "when": "wizExplorer:isAppFile && wizExplorer:appCategory != 'route' && wizExplorer:activeFileType == 'socket'"
        }
      ],
      "view/title": [
        {
          "command": "wizExplorer.refresh",
          "when": "view == wizExplorer",
          "group": "navigation@1"
        },
        {
          "command": "wizExplorer.build",
          "when": "view == wizExplorer",
          "group": "navigation@2"
        },
        {
          "command": "wizExplorer.switchProject",
          "when": "view == wizExplorer",
          "group": "navigation@4"
        }
      ],
      "view/item/context": [
        {
          "command": "wizExplorer.newPackage",
          "when": "view == wizExplorer && viewItem == portalCategory",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.uploadPackage",
          "when": "view == wizExplorer && viewItem == portalCategory",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.newApp",
          "when": "view == wizExplorer && viewItem == appGroup",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.uploadApp",
          "when": "view == wizExplorer && viewItem == appGroup",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.newApp",
          "when": "view == wizExplorer && viewItem == portalAppGroup",
          "group": "1_modification",
          "title": "New Portal App"
        },
        {
          "command": "wizExplorer.uploadApp",
          "when": "view == wizExplorer && viewItem == portalAppGroup",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.newApp",
          "when": "view == wizExplorer && viewItem == routeGroup",
          "group": "1_modification",
          "title": "New Route"
        },
        {
          "command": "wizExplorer.newApp",
          "when": "view == wizExplorer && viewItem == portalRouteGroup",
          "group": "1_modification",
          "title": "New Portal Route"
        },
        {
          "command": "wizExplorer.newFile",
          "when": "view == wizExplorer && (viewItem == folder || viewItem == configCategory || viewItem == copilotCategory || viewItem == sourceRootFolder || viewItem == portalRootFolder)",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.newFolder",
          "when": "view == wizExplorer && (viewItem == folder || viewItem == configCategory || viewItem == copilotCategory || viewItem == sourceRootFolder || viewItem == portalRootFolder)",
          "group": "1_modification"
        },
        {
          "command": "wizExplorer.copy",
          "when": "view == wizExplorer && (viewItem == file || viewItem == folder || viewItem == configCategory || viewItem == copilotCategory)",
          "group": "2_clipboard"
        },
        {
          "command": "wizExplorer.paste",
          "when": "view == wizExplorer && (viewItem == folder || viewItem == configCategory || viewItem == copilotCategory || viewItem == sourceRootFolder || viewItem == portalRootFolder)",
          "group": "2_clipboard"
        },
        {
          "command": "wizExplorer.rename",
          "when": "view == wizExplorer && (viewItem == file || viewItem == folder || viewItem == portalPackage)",
          "group": "3_modification"
        },
        {
          "command": "wizExplorer.delete",
          "when": "view == wizExplorer && (viewItem == file || viewItem == folder || viewItem == appItem || viewItem == portalPackage)",
          "group": "3_delete"
        },
        {
          "command": "wizExplorer.copyTemplate",
          "when": "view == wizExplorer && viewItem == appItem",
          "group": "2_clipboard"
        },
        {
          "command": "wizExplorer.downloadFile",
          "when": "view == wizExplorer && (viewItem == file || viewItem == folder || viewItem == portalPackage || viewItem == appItem || viewItem == sourceRootFolder || viewItem == portalRootFolder)",
          "group": "z_reveal"
        },
        {
          "command": "wizExplorer.uploadFile",
          "when": "view == wizExplorer && (viewItem == folder || viewItem == configCategory || viewItem == copilotCategory || viewItem == sourceRootFolder || viewItem == portalRootFolder)",
          "group": "z_reveal"
        }
      ],
      "commandPalette": [
        {
          "command": "wizExplorer.refresh",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.startMcpServer",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.stopMcpServer",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.showMcpConfig",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.build",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.normalBuild",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.cleanBuild",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.showBuildOutput",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.selectBuildPythonInterpreter",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.switchProject",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.exportCurrentProject",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.importProject",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.newPackage",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.goToApp",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.showAppMenu",
          "when": "wizExplorer:isAppFile"
        },
        {
          "command": "wizExplorer.openAppInfo",
          "when": "wizExplorer:isAppFile"
        },
        {
          "command": "wizExplorer.copyCurrentTemplate",
          "when": "wizExplorer:isAppFile"
        },
        {
          "command": "wizExplorer.revealInWizExplorer",
          "when": "editorIsOpen"
        },
        {
          "command": "wizExplorer.createPage",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.createComponent",
          "when": "workspaceFolderCount > 0"
        },

        {
          "command": "wizExplorer.createLayout",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.createRoute",
          "when": "workspaceFolderCount > 0"
        },
        {
          "command": "wizExplorer.openFolder",
          "when": "true"
        },
        {
          "command": "wizExplorer.openFile",
          "when": "false"
        },
        {
          "command": "wizExplorer.revealInExplorer",
          "when": "false"
        },
        {
          "command": "wizExplorer.newFile",
          "when": "false"
        },
        {
          "command": "wizExplorer.newFolder",
          "when": "false"
        },
        {
          "command": "wizExplorer.copy",
          "when": "false"
        },
        {
          "command": "wizExplorer.paste",
          "when": "false"
        },
        {
          "command": "wizExplorer.delete",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.info",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.controller",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.ui",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.component",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.scss",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.api",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.socket",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.info.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.controller.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.ui.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.component.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.scss.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.api.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.switch.socket.active",
          "when": "false"
        },
        {
          "command": "wizExplorer.navigatePrevious",
          "when": "false"
        },
        {
          "command": "wizExplorer.navigateNext",
          "when": "false"
        },
        {
          "command": "wizExplorer.openInSplit",
          "when": "false"
        },
        {
          "command": "wizExplorer.newApp",
          "when": "false"
        },
        {
          "command": "wizExplorer.exportPackage",
          "when": "false"
        },
        {
          "command": "wizExplorer.copyTemplate",
          "when": "false"
        },
        {
          "command": "wizExplorer.downloadFile",
          "when": "false"
        }
      ]
    },
    "keybindings": [
      {
        "command": "wizExplorer.navigatePrevious",
        "key": "alt+a",
        "mac": "alt+a",
        "when": "wizExplorer:isAppFile || resourceScheme == 'wiz'"
      },
      {
        "command": "wizExplorer.navigateNext",
        "key": "alt+s",
        "mac": "alt+s",
        "when": "wizExplorer:isAppFile || resourceScheme == 'wiz'"
      },
      {
        "command": "wizExplorer.openInSplit",
        "key": "alt+t",
        "mac": "alt+t",
        "when": "wizExplorer:isAppFile || resourceScheme == 'wiz'"
      }
    ],
    "configuration": {
      "title": "Wiz Explorer",
      "properties": {
        "wizExplorer.build.pythonInterpreterPath": {
          "type": "string",
          "default": "",
          "description": "'wiz' 명령을 찾지 못했을 때 폴백으로 사용할 Python 실행 파일 경로입니다. 비어있으면 Python 확장 인터프리터 또는 수동 입력으로 선택합니다.",
          "scope": "resource"
        },
        "wizExplorer.build.promptPythonSelectionOnMissingWiz": {
          "type": "boolean",
          "default": true,
          "description": "자동 빌드 중 'wiz' 명령을 찾지 못했을 때 Python 환경 선택 UI를 표시할지 여부입니다.",
          "scope": "resource"
        }
      }
    }
  },
  "scripts": {
    "lint": "eslint .",
    "pretest": "npm run lint",
    "test": "node ./test/runTest.js",
    "mcp": "node ./src/mcp/index.js"
  },
  "dependencies": {
    "@modelcontextprotocol/sdk": "^1.0.0",
    "archiver": "^5.3.1"
  },
  "devDependencies": {
    "@types/vscode": "^1.60.0",
    "@types/node": "14.x",
    "eslint": "^7.32.0"
  }
}
