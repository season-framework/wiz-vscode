# Wiz VSCode Extension v1.2.1 Release Notes

> February 19, 2026

---

## Highlights

**v1.2.1** focuses on **MCP-Explorer synchronization** and **MCP server usability**. The MCP server now automatically syncs with the VS Code Explorer's active project, config files are saved to `.vscode/mcp.json` for native VS Code integration, and all path parameters are auto-resolved — making AI agent workflows seamless.

---

## New Features

### MCP Config Auto-Save
MCP configuration is now saved to a real file instead of opening an untitled document.

- **`.vscode/mcp.json`**: Standard VS Code MCP config location
- **Dynamic Menu**: Shows "Create MCP Configuration" when config doesn't exist, "Show MCP Configuration" when it does
- **File Watcher**: Automatically updates context when `mcp.json` is created or deleted
- **VS Code Native**: Config is detected by VS Code's built-in MCP support

### MCP-Explorer Project Synchronization
The MCP server now stays in sync with the VS Code Explorer's selected project via a shared state file.

- **State File**: `.vscode/.wiz-state.json` stores `workspacePath` and `currentProject`
- **Write on Switch**: State file is updated whenever project is switched in Explorer
- **Read on Tool Call**: MCP server reads state file before every tool execution
- **Auto-Injection**: `workspacePath` and `projectName` are automatically injected into all tool calls
- **`wiz_get_workspace_state` Tool**: Agents can query current workspace/project context

### MCP Path Auto-Resolution
Relative paths are automatically resolved to the project's source directory.

- **7 Path Parameters**: `appPath`, `dirPath`, `filePath`, `targetPath`, `folderPath`, `oldPath`, `newPath`
- **Smart Resolution**: Checks `src/` prefix → project root → defaults to `{projectRoot}/src/`
- **Portal Support**: `portal/dizest/app/drive` correctly resolves to `{projectRoot}/src/portal/dizest/app/drive`
- **Absolute Passthrough**: Absolute paths are returned unchanged

---

## Improvements

### MCP Server Tools
- **Tool Count**: Expanded from 16 tools to 30 tools
- **Optional Parameters**: All tools now have optional `workspacePath` and `projectName`
- **Description Enhancement**: Tool descriptions include auto-detection and path resolution notes
- **Menu Integration**: Start/Stop/Config buttons in Explorer toolbar

### Explorer Integration
- **Bidirectional Sync**: Explorer ↔ MCP server share the same project context
- **No Manual Config**: `WIZ_PROJECT` environment variable removed from config (auto-synced)
- **Context Commands**: `wizExplorer:mcpConfigExists` controls menu visibility

---

## New Commands

| Command | Description |
|---------|-------------|
| `Wiz: Create MCP Configuration` | Create `.vscode/mcp.json` config file |

---

## Changed Files

| File | Change |
|------|--------|
| `src/mcp/index.js` | `_resolvePath()`, `_resolveArgs()`, `_loadState()`, `_saveState()`, `wiz_get_workspace_state` tool, all params optional |
| `src/services/project/mcpManager.js` | `createConfig()`, `showConfig()` rewrite, `writeState()`, `updateMcpConfigContext()`, `_watchMcpConfig()` |
| `src/extension.js` | `mcpManager.writeState()` in `updateProjectRoot()`, `createMcpConfig` command registration |
| `package.json` | `wizExplorer.createMcpConfig` command, menu when conditions for `mcpConfigExists` |

---

## Installation

```bash
code --install-extension wiz-vscode-1.2.1.vsix
```

---

## Development Log

- [067 — MCP Config Auto-Save](../devlog/v1.2.1/067-mcp-config-auto-save.md)
- [068 — MCP-Explorer Project Sync](../devlog/v1.2.1/068-mcp-explorer-project-sync.md)
- [069 — MCP Path Auto-Resolution](../devlog/v1.2.1/069-mcp-path-auto-resolve.md)
